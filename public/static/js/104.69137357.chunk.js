"use strict";(self.webpackChunkloker_omnichannel=self.webpackChunkloker_omnichannel||[]).push([[104],{1104:function(e,t,n){n.r(t);var a=n(4165),r=n(1413),l=n(5861),o=n(9439),i=n(1614),s=n(1889),u=n(7621),d=n(9504),p=n(6427),g=n(2363),c=n(6151),h=n(3543),v=n(9658),x=n(1652),f=n(9071),Z=n(4750),m=n(7892),_=n.n(m),j=n(2791),k=n(184);t.default=function(){var e=(0,j.useState)({no_pesanan:"",tanggal:_()(new Date),nm_supplier:"",nm_produk:"",total:""}),t=(0,o.Z)(e,2),n=t[0],m=t[1],b=(0,j.useState)(),y=(0,o.Z)(b,2),C=y[0],P=y[1],T=(0,j.useState)(!1),w=(0,o.Z)(T,2),S=w[0],D=w[1],W=(0,j.useState)(!1),A=(0,o.Z)(W,2),F=A[0],N=A[1],Y=(0,j.useState)(!1),M=(0,o.Z)(Y,2),$=M[0],H=M[1],O=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var l,o,i,s,u,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!0!==S){e.next=3;break}return e.abrupt("return");case 3:return o=(0,r.Z)((0,r.Z)({},n),{},{tanggal:(null!==(l=n.tanggal)&&void 0!==l?l:_()(new Date)).format("YYYY-MM-DD"),total:"number"===typeof n.total?n.total:parseFloat(n.total)}),P(void 0),N(!1),D(!0),e.prev=7,e.next=10,fetch((null!==(i=null===(s=window)||void 0===s?void 0:s.REACT_APP_API_URL)&&void 0!==i?i:"")+"/api/soal3",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 10:if(d=e.sent,D(!1),201!==d.status){e.next=16;break}H(!0),e.next=34;break;case 16:if(400!==d.status){e.next=33;break}return e.t0=P,e.next=20,d.json();case 20:if(e.t2=u=e.sent,e.t1=null===e.t2,e.t1){e.next=24;break}e.t1=void 0===u;case 24:if(!e.t1){e.next=28;break}e.t3=void 0,e.next=29;break;case 28:e.t3=u.data;case 29:e.t4=e.t3,(0,e.t0)(e.t4),e.next=34;break;case 33:N(!0);case 34:e.next=41;break;case 36:e.prev=36,e.t5=e.catch(7),console.log(e.t5),N(!0),D(!1);case 41:case"end":return e.stop()}}),e,null,[[7,36]])})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.Z,{children:(0,k.jsx)(s.ZP,{container:!0,mt:2,mx:2,children:(0,k.jsx)(s.ZP,{item:!0,xs:12,sm:6,children:(0,k.jsx)("form",{onSubmit:O,children:(0,k.jsxs)(u.Z,{children:[(0,k.jsxs)(d.Z,{children:[(0,k.jsx)(s.ZP,{item:!0,xs:6,children:(0,k.jsx)(p.Z,{label:"No. Pesanan",value:n.no_pesanan,onChange:function(e){return m((function(t){return(0,r.Z)((0,r.Z)({},t),{},{no_pesanan:e.target.value})}))},error:"string"===typeof(null===C||void 0===C?void 0:C.no_pesanan)&&C.no_pesanan.length>0,helperText:"string"===typeof(null===C||void 0===C?void 0:C.no_pesanan)&&C.no_pesanan.length>0?C.no_pesanan:"",margin:"dense",fullWidth:!0})}),(0,k.jsx)(s.ZP,{item:!0,xs:6,children:(0,k.jsx)(x._,{dateAdapter:Z.y,children:(0,k.jsx)(f.M,{value:n.tanggal,onChange:function(e){return m((function(t){return(0,r.Z)((0,r.Z)({},t),{},{tanggal:e})}))},slotProps:{textField:{label:"Tanggal",margin:"dense",fullWidth:!0,error:"string"===typeof(null===C||void 0===C?void 0:C.tanggal)&&C.tanggal.length>0,helperText:"string"===typeof(null===C||void 0===C?void 0:C.tanggal)&&C.tanggal.length>0?C.tanggal:""}}})})}),(0,k.jsx)(s.ZP,{item:!0,xs:12,children:(0,k.jsx)(p.Z,{label:"Nama Supplier",value:n.nm_supplier,onChange:function(e){return m((function(t){return(0,r.Z)((0,r.Z)({},t),{},{nm_supplier:e.target.value})}))},error:"string"===typeof(null===C||void 0===C?void 0:C.nm_supplier)&&C.nm_supplier.length>0,helperText:"string"===typeof(null===C||void 0===C?void 0:C.nm_supplier)&&C.nm_supplier.length>0?C.nm_supplier:"",margin:"dense",fullWidth:!0})}),(0,k.jsx)(s.ZP,{item:!0,xs:12,children:(0,k.jsx)(p.Z,{label:"Nama Produk",value:n.nm_produk,onChange:function(e){return m((function(t){return(0,r.Z)((0,r.Z)({},t),{},{nm_produk:e.target.value})}))},error:"string"===typeof(null===C||void 0===C?void 0:C.nm_produk)&&C.nm_produk.length>0,helperText:"string"===typeof(null===C||void 0===C?void 0:C.nm_produk)&&C.nm_produk.length>0?C.nm_produk:"",margin:"dense",fullWidth:!0})}),(0,k.jsx)(s.ZP,{item:!0,xs:6,children:(0,k.jsx)(p.Z,{type:"number",label:"Total",value:n.total,onChange:function(e){return m((function(t){return 0===e.target.value.length?(0,r.Z)((0,r.Z)({},t),{},{total:""}):1===e.target.value.length&&"-"===e.target.value?(0,r.Z)((0,r.Z)({},t),{},{total:e.target.value}):/^[-][0]+$/.test(e.target.value)?(0,r.Z)((0,r.Z)({},t),{},{total:"-0"}):/^[-]?[0-9]+[.][0]+$/.test(e.target.value)?(0,r.Z)((0,r.Z)({},t),{},{total:e.target.value}):/^[-]?[0-9]+([.][0-9]+)?$/.test(e.target.value)?(0,r.Z)((0,r.Z)({},t),{},{total:parseFloat(e.target.value)}):"."===e.target.value[e.target.value.length-1]&&e.target.value.indexOf(".")===e.target.value.length-1?(0,r.Z)((0,r.Z)({},t),{},{total:e.target.value}):(0,r.Z)({},t)}))},error:"string"===typeof(null===C||void 0===C?void 0:C.total)&&C.total.length>0,helperText:"string"===typeof(null===C||void 0===C?void 0:C.total)&&C.total.length>0?C.total:"",margin:"dense",fullWidth:!0})})]}),(0,k.jsx)(g.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(c.Z,{variant:"contained",type:"submit",children:"Simpan"})})]})})})})}),(0,k.jsx)(h.Z,{open:$,autoHideDuration:5e3,onClose:function(){return H(!1)},children:(0,k.jsx)(v.Z,{onClose:function(){return H(!1)},severity:"success",sx:{width:"100%"},children:"Berhasil Tersimpan!"})}),(0,k.jsx)(h.Z,{open:F,autoHideDuration:5e3,onClose:function(){return N(!1)},children:(0,k.jsx)(v.Z,{onClose:function(){return N(!1)},severity:"error",sx:{width:"100%"},children:"Gagal Tersimpan!"})})]})}}}]);
//# sourceMappingURL=104.69137357.chunk.js.map